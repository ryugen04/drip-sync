#!/bin/bash

echo "Running tests before push..."

./gradlew :shared:testDebugUnitTest :mobile:testDevDebugUnitTest :wear:testDevDebugUnitTest --quiet

if [ $? -ne 0 ]; then
    echo ""
    echo "Tests failed. Push aborted."
    echo "Fix the failing tests and try again."
    exit 1
fi

echo "All tests passed."
exit 0
